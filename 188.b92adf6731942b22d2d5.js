"use strict";(self.webpackChunkqreats_dashboard=self.webpackChunkqreats_dashboard||[]).push([[188],{5188:(T,l,s)=>{s.r(l),s.d(l,{ProductModule:()=>O});var a=s(8583),p=s(7957),t=s(7716),u=s(1778),v=s(8331),g=s(9427);const P=function(e){return{active:e}};function C(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"li",5),t.TgZ(1,"a",6),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw().onclickFetch(c.id)}),t._UZ(2,"span",7),t._uU(3),t.qZA(),t.qZA()}if(2&e){const o=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,P,o.id==n.selectedId&&0!=n.selectedId)),t.xp6(1),t.Q6J("inlineSVG",o.icon),t.xp6(1),t.hij(" ",o.name," ")}}let y=(()=>{class e{constructor(o,n,r){this._activatedRoute=o,this._productService=n,this.storage=r,this.products=new t.vpe,this.sourceIco="./assets/media/food/menu/"}ngOnInit(){this.subscripeParam()}subscripeParam(){this._activatedRoute.params.subscribe(o=>{this.selectedId=null==o.typeId?0:+o.typeId;var r=this.storage.getLocalObject("resto").id;0==this.selectedId&&this.fetchProductsByTypeId(r)})}onclickFetch(o){this.selectedId=o;const n={type_id:o};var r=this.storage.getLocalObject("resto").id;this._productService.fetchProducts(n,r).subscribe(c=>{var d=c.data.slice();d.forEach(m=>{m.type.icon=this.sourceIco+m.type.icon}),this.products.next(d)})}fetchProductsByTypeId(o){this._productService.fetchProducts(void 0,o).subscribe(n=>{0==this.selectedId&&(this.types=[]);var r=n.data.slice();console.log(r),r.forEach(c=>{c.type.icon=this.sourceIco+c.type.icon,0==this.selectedId&&this.types.push(c.type)}),this.products.next(r),0==this.selectedId&&(this.types=Array.from(new Set(this.types.map(c=>c.id))).map(c=>this.types.find(d=>d.id===c)))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.gz),t.Y36(u.M),t.Y36(v.V))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-type"]],outputs:{products:"products"},decls:5,vars:1,consts:[["id","tabsWithIcons",1,"col-lg-12","col-12","layout-spacing"],[1,"statbox","widget","box","box-shadow"],[1,"widget-content","widget-content-area","rounded-pills-icon"],["id","rounded-pills-icon-tab","role","tablist",1,"nav","nav-pills","mb-4","mt-3","justify-content-center"],["class","nav-item ms-4 cursor-pointer",4,"ngFor","ngForOf"],[1,"nav-item","ms-4","cursor-pointer"],["data-toggle","pill","role","tab","aria-selected","false",1,"nav-link","mb-2","text-center",3,"ngClass","click"],[1,"svg-tab-icon",3,"inlineSVG"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"ul",3),t.YNc(4,C,4,5,"li",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("ngForOf",n.types))},directives:[a.sg,a.mk,g.d$],styles:[".rounded-pills-icon[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:.625rem!important;background-color:#2c2d32;width:100px;padding:8px;color:#fff}.rounded-pills-icon[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .svg-tab-icon[_ngcontent-%COMP%]{display:block;text-align:center;margin:5px auto 10px;fill:#fff}.rounded-pills-icon[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .rounded-pills-icon[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{box-shadow:0 5px 15px #0000004d;background-color:#ff8b26}.rounded-pills-icon[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ff8b26}"]}),e})();function _(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw().showDetails(c)}),t._UZ(2,"img",5),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=i.$implicit;t.xp6(2),t.Q6J("src",o.url,t.LSH)("alt",o.name),t.xp6(2),t.Oqu(o.name)}}let f=(()=>{class e{constructor(o){this._productService=o,this.default="../../../assets/media/food/default.jpg"}ngOnInit(){}showDetails(o){this._productService.set(o)}fetchProduct(o){this.dataSource=o.slice(),this.dataSource.forEach(n=>{n.url=this.default})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:3,vars:1,consts:[[3,"products"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],["id","kt_explore_toggle",1,"card","cursor-pointer",3,"click"],[3,"src","alt"]],template:function(o,n){1&o&&(t.TgZ(0,"app-product-type",0),t.NdJ("products",function(c){return n.fetchProduct(c)}),t.qZA(),t.TgZ(1,"div",1),t.YNc(2,_,5,3,"div",2),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngForOf",n.dataSource))},directives:[y,a.sg],styles:['.card[_ngcontent-%COMP%]{border-radius:25px;width:100%;height:200px;margin-top:35px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:25px!important;width:100%;height:100%;object-fit:cover}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0;left:0;padding:13px;text-align:center;background:transparent linear-gradient(180deg,#00000000 0%,#000000 100%) 0% 0% no-repeat padding-box!important;color:#fff;border-radius:0 0 25px 25px;font-size:14px}.card[_ngcontent-%COMP%]:hover:after{content:"\\a";position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(51,51,51,.185);transition:all 1s;-webkit-transition:all .5s;border-radius:25px}']}),e})();const x=[{path:"",component:f},{path:":typeId",component:f}];let b=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(x)],p.Bz]}),e})();var h=s(665),M=s(1841);let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,h.u5,M.JF,h.UX,g.vi,b]]}),e})()}}]);